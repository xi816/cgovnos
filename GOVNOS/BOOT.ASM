CALL MAIN
  PUSH %00
  PUSH %00
  INT
  WELCOME-MS:
    BYTES "GOVNBOOT$"
    BYTES "  PRESS A TO START$"
    BYTES "  PRESS H TO SHOW INFO$^@"
    BYTES "  PRESS Y TO SHUTDOWN (FORCE CLOSE)$"
    BYTES "  PRESS Z TO SHUTDOWN (SAFE HALT)$"
  INFO-MS:
    BYTES "INFO ABOUT GOVNBOOT$"
    BYTES "  VERSION: 0.1$"
    BYTES "  MADE BY: XI-816$^@"
  SAFE-TO-SD-MS:
    BYTES "IT IS NOW SAFE TO SHUT DOWN YOUR COMPUTER$^@"
  NOT-IMP-MS:
    BYTES "NOT IMPLEMENTED$HALTING$^@"
  HALT:
    BYTES %0A9 %55
MAIN:
  PUSH WELCOME-MS
  PUSH %01
  INT
INP-BOOTMODE:
  CSP

  DUP
  PUSH %61            ; IF USER PRESSED A
  CMP
  CALE LOAD-KERNEL

  DUP
  PUSH %68            ; IF USER PRESSED H
  CMP
  CALE SHOW-INFO
  JMP INP-BOOTMODE

  DUP
  PUSH %7A            ; IF USER PRESSED Z
  CMP
  PUSH SAFE-TO-SD-MS
  PUSH %01
  INT
  JMP HALT

  JMP INP-BOOTMODE    ; ELSE JUMP BACK

SHOW-INFO:            ; SHOW INFO ABOUT THE
  PUSH INFO-MS        ; BOOTLOADER
  PUSH %01
  INT
  RET

LOAD-KERNEL:          ; LOAD THE KERNEL
  PUSH NOT-IMP-MS
  PUSH %01
  INT
  BYTES %0A9 %55
